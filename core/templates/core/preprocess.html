{% extends 'core/base.html' %}
{% block title %}Data Preprocessing{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1 class="text-center mb-4">Data Preprocessing Summary</h1>

    <!-- Missing Values Summary -->
    <div class="card mb-4">
        <div class="card-header bg-primary text-white">
            <h4>Missing Values Summary</h4>
        </div>
        <div class="card-body">
            {% if missing_summary %}
                <ul class="list-group">
                    {% for column, count in missing_summary.items %}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            {{ column }}
                            <span class="badge bg-secondary">{{ count }} missing</span>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p class="text-muted">No missing values detected in the dataset.</p>
            {% endif %}
        </div>
    </div>

    <!-- Train/Test Shape -->
    <div class="card mb-4">
        <div class="card-header bg-success text-white">
            <h4>Dataset Shapes</h4>
        </div>
        <div class="card-body">
            <p><strong>Train Dataset Shape:</strong> {{ train_shape }}</p>
            <p><strong>Test Dataset Shape:</strong> {{ test_shape }}</p>
        </div>
    </div>

    <!-- Data Sample -->
    <div class="card mb-4">
        <div class="card-header bg-info text-white">
            <h4>Sample Data (Top 10 Rows)</h4>
        </div>
        <div class="card-body">
            {% if sample_data %}
                <div class="table-responsive">
                    {{ sample_data|safe }}
                </div>
            {% else %}
                <p class="text-muted">No data available to display.</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
